\hypertarget{date_8c_source}{}\doxysection{date.\+c}
\label{date_8c_source}\index{lib/date.c@{lib/date.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00001}00001 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{date_8h}{date.h}}"{}}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00002}00002 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00003}00003 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00004}00004 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00006}00006 \textcolor{keywordtype}{bool} isleap(\textcolor{keywordtype}{unsigned});}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00007}00007 \textcolor{keywordtype}{bool} date\_is\_valid\_f(\textcolor{keywordtype}{unsigned}, \textcolor{keywordtype}{unsigned}, \textcolor{keywordtype}{unsigned});}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00008}00008 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00009}00009 \textcolor{keywordtype}{bool} isleap(\textcolor{keywordtype}{unsigned} y)}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00010}00010 \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00011}00011   \textcolor{keywordflow}{if} ((y \% 4 == 0) \&\& (y \% 100 != 0) \&\& (y \% 400 == 0)) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00012}00012     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00013}00013   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00014}00014     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00015}00015   \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00016}00016 \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00018}00018 \textcolor{keywordtype}{bool} date\_is\_valid\_f(\textcolor{keywordtype}{unsigned} y, \textcolor{keywordtype}{unsigned} m, \textcolor{keywordtype}{unsigned} d)}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00019}00019 \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00020}00020   \textcolor{keywordflow}{if} (m < 1 || m > 12) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00021}00021     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00022}00022   \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00023}00023 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00024}00024   \textcolor{keywordflow}{if} (d < 1 || d > 31) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00025}00025     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00026}00026   \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00027}00027 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00028}00028   \textcolor{keywordflow}{if} (m == 2) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00029}00029     \textcolor{keywordflow}{if} (isleap(y)) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00030}00030       \textcolor{keywordflow}{if} (d <= 29) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00031}00031         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00032}00032       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00033}00033         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00034}00034       \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00035}00035     \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00036}00036   \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00038}00038   \textcolor{keywordflow}{if} (m == 4 || m == 6 || m == 9 || m == 11) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00039}00039     \textcolor{keywordflow}{if} (d <= 30) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00040}00040       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00041}00041     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00042}00042       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00043}00043     \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00044}00044   \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00045}00045 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00046}00046   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00047}00047 \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00048}00048 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00049}\mbox{\hyperlink{date_8h_af4b274b03ff682a133b613a8be92b280}{00049}} \textcolor{keywordtype}{bool} date\_is\_valid(\textcolor{keyword}{const} \textcolor{keywordtype}{char}* date)}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00050}00050 \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00051}00051   \textcolor{keywordtype}{char}* year\_s = calloc(5, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00052}00052   \textcolor{keywordtype}{char}* month\_s = calloc(3, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00053}00053   \textcolor{keywordtype}{char}* day\_s = calloc(3, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00054}00054   sscanf(date, \textcolor{stringliteral}{"{}\%[\string^-\/]-\/\%[\string^-\/]-\/\%[\string^-\/]"{}}, year\_s, month\_s, day\_s);}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00055}00055 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00056}00056   printf(\textcolor{stringliteral}{"{}debug: year len: \%lu, month len: \%lu, day len: \%lu\(\backslash\)n"{}}, strlen(year\_s),}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00057}00057          strlen(month\_s), strlen(day\_s));}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00059}00059   \textcolor{keywordflow}{if} (strlen(year\_s) != 4 || strlen(month\_s) != 2 || strlen(day\_s) != 2) \{}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00060}00060     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00061}00061   \}}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00062}00062 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00063}00063   \textcolor{keywordtype}{unsigned} year = atoi(year\_s);}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00064}00064   \textcolor{keywordtype}{unsigned} month = atoi(month\_s);}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00065}00065   \textcolor{keywordtype}{unsigned} day = atoi(day\_s);}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00067}00067   printf(\textcolor{stringliteral}{"{}debug: year: \%u, month: \%u, day: \%u\(\backslash\)n"{}}, year, month, day);}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00068}00068 }
\DoxyCodeLine{\Hypertarget{date_8c_source_l00069}00069   \textcolor{keywordflow}{return} date\_is\_valid\_f(year, month, day);}
\DoxyCodeLine{\Hypertarget{date_8c_source_l00070}00070 \}}

\end{DoxyCode}
